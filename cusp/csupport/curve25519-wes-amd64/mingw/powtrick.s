.text
.p2align 5
_scalBtoA:
scalBtoA:
mov  $0x7ffffffffffff,%r8
mov  $121665,%r14
mov  %r15,%rax
imul %r14
shld $13,%rax,%rdx
and  %r8,%rax
mov  %rax,%r10
mov  %rdx,%rcx
mov  %rdi,%rax
imul %r14
shld $13,%rax,%rdx
and  %r8,%rax
lea  (%rax,%rcx),%rcx
mov  %rdx,%r11
mov  %rsi,%rax
imul %r14
shld $13,%rax,%rdx
and  %r8,%rax
lea  (%rax,%r11),%r12
mov  %rdx,%r11
mov  %rbp,%rax
imul %r14
shld $13,%rax,%rdx
and  %r8,%rax
lea  (%rax,%r11),%r13
mov  %rdx,%r11
mov  %rbx,%rax
imul %r14
shld $13,%rax,%rdx
and  %r8,%rax
lea  (%rax,%r11),%r14
imul  $19,%rdx
add  %rdx,%r10
ret
.text
.p2align 5
_sqrAtoB:
sqrAtoB:
mov  %r13,%rsi
mov  %r14,%rbp
imul  $19,%rsi
imul  $19,%rbp
lea  (%rcx,%rcx),%rax
imul %rbp
mov  %rax,%r8
mov  %rdx,%r11
lea  (%r12,%r12),%rax
imul %rsi
add  %rax,%r8
adc %rdx,%r11
mov  %r10,%rax
imul %r10
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%r15
shrd $51,%r11,%r8
sar  $51,%r11
lea  (%r12,%r12),%rax
imul %rbp
add  %rax,%r8
adc %rdx,%r11
mov  %r13,%rax
imul %rsi
add  %rax,%r8
adc %rdx,%r11
lea  (%r10,%r10),%rax
imul %rcx
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%rdi
shrd $51,%r11,%r8
sar  $51,%r11
lea  (%r13,%r13),%rax
imul %rbp
add  %rax,%r8
adc %rdx,%r11
lea  (%r10,%r10),%rax
imul %r12
add  %rax,%r8
adc %rdx,%r11
mov  %rcx,%rax
imul %rcx
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%rsi
shrd $51,%r11,%r8
sar  $51,%r11
mov  %r14,%rax
imul %rbp
add  %rax,%r8
adc %rdx,%r11
lea  (%r10,%r10),%rax
imul %r13
add  %rax,%r8
adc %rdx,%r11
lea  (%rcx,%rcx),%rax
imul %r12
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%rbp
shrd $51,%r11,%r8
sar  $51,%r11
lea  (%r10,%r10),%rax
imul %r14
add  %rax,%r8
adc %rdx,%r11
lea  (%rcx,%rcx),%rax
imul %r13
add  %rax,%r8
adc %rdx,%r11
mov  %r12,%rax
imul %r12
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%rbx
shrd $51,%r11,%r8
sar  $51,%r11
imul  $19,%r11
mov  $19,%rax
mul  %r8
add  %r11,%rdx
mov  $0x7ffffffffffff,%r8
and  %r8,%r15
and  %r8,%rdi
and  %r8,%rsi
and  %r8,%rbp
and  %r8,%rbx
and  %rax,%r8
shrd $51,%rdx,%rax
add  %r8,%r15
add  %rax,%rdi
ret
.text
.p2align 5
_sqrBtoA:
sqrBtoA:
mov  %rbp,%r12
mov  %rbx,%r13
imul  $19,%r12
imul  $19,%r13
lea  (%rdi,%rdi),%rax
imul %r13
mov  %rax,%r8
mov  %rdx,%r11
lea  (%rsi,%rsi),%rax
imul %r12
add  %rax,%r8
adc %rdx,%r11
mov  %r15,%rax
imul %r15
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%r10
shrd $51,%r11,%r8
sar  $51,%r11
lea  (%rsi,%rsi),%rax
imul %r13
add  %rax,%r8
adc %rdx,%r11
mov  %rbp,%rax
imul %r12
add  %rax,%r8
adc %rdx,%r11
lea  (%r15,%r15),%rax
imul %rdi
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%rcx
shrd $51,%r11,%r8
sar  $51,%r11
lea  (%rbp,%rbp),%rax
imul %r13
add  %rax,%r8
adc %rdx,%r11
lea  (%r15,%r15),%rax
imul %rsi
add  %rax,%r8
adc %rdx,%r11
mov  %rdi,%rax
imul %rdi
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%r12
shrd $51,%r11,%r8
sar  $51,%r11
mov  %rbx,%rax
imul %r13
add  %rax,%r8
adc %rdx,%r11
lea  (%r15,%r15),%rax
imul %rbp
add  %rax,%r8
adc %rdx,%r11
lea  (%rdi,%rdi),%rax
imul %rsi
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%r13
shrd $51,%r11,%r8
sar  $51,%r11
lea  (%r15,%r15),%rax
imul %rbx
add  %rax,%r8
adc %rdx,%r11
lea  (%rdi,%rdi),%rax
imul %rbp
add  %rax,%r8
adc %rdx,%r11
mov  %rsi,%rax
imul %rsi
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%r14
shrd $51,%r11,%r8
sar  $51,%r11
imul  $19,%r11
mov  $19,%rax
mul  %r8
add  %r11,%rdx
mov  $0x7ffffffffffff,%r8
and  %r8,%r10
and  %r8,%rcx
and  %r8,%r12
and  %r8,%r13
and  %r8,%r14
and  %rax,%r8
shrd $51,%rdx,%rax
add  %r8,%r10
add  %rax,%rcx
ret
.text
.p2align 5
_mulACtoB:
mulACtoB:
movd   %xmm1,%r15
movd   %xmm2,%rdi
movd   %xmm3,%rsi
movd   %xmm4,%rbp
imul  $19,%r15
imul  $19,%rdi
imul  $19,%rsi
imul  $19,%rbp
mov  %rbp,%rax
imul %rcx
mov  %rax,%r8
mov  %rdx,%r11
mov  %rsi,%rax
imul %r12
add  %rax,%r8
adc %rdx,%r11
mov  %rdi,%rax
imul %r13
add  %rax,%r8
adc %rdx,%r11
mov  %r15,%rax
imul %r14
add  %rax,%r8
adc %rdx,%r11
movd   %xmm0,%rax
imul %r10
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%r15
shrd $51,%r11,%r8
sar  $51,%r11
mov  %rbp,%rax
imul %r12
add  %rax,%r8
adc %rdx,%r11
mov  %rsi,%rax
imul %r13
add  %rax,%r8
adc %rdx,%r11
mov  %rdi,%rax
imul %r14
add  %rax,%r8
adc %rdx,%r11
movd   %xmm1,%rax
imul %r10
add  %rax,%r8
adc %rdx,%r11
movd   %xmm0,%rax
imul %rcx
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%rdi
shrd $51,%r11,%r8
sar  $51,%r11
mov  %rbp,%rax
imul %r13
add  %rax,%r8
adc %rdx,%r11
mov  %rsi,%rax
imul %r14
add  %rax,%r8
adc %rdx,%r11
movd   %xmm2,%rax
imul %r10
add  %rax,%r8
adc %rdx,%r11
movd   %xmm1,%rax
imul %rcx
add  %rax,%r8
adc %rdx,%r11
movd   %xmm0,%rax
imul %r12
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%rsi
shrd $51,%r11,%r8
sar  $51,%r11
mov  %rbp,%rax
imul %r14
add  %rax,%r8
adc %rdx,%r11
movd   %xmm3,%rax
imul %r10
add  %rax,%r8
adc %rdx,%r11
movd   %xmm2,%rax
imul %rcx
add  %rax,%r8
adc %rdx,%r11
movd   %xmm1,%rax
imul %r12
add  %rax,%r8
adc %rdx,%r11
movd   %xmm0,%rax
imul %r13
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%rbp
shrd $51,%r11,%r8
sar  $51,%r11
movd   %xmm4,%rax
imul %r10
add  %rax,%r8
adc %rdx,%r11
movd   %xmm3,%rax
imul %rcx
add  %rax,%r8
adc %rdx,%r11
movd   %xmm2,%rax
imul %r12
add  %rax,%r8
adc %rdx,%r11
movd   %xmm1,%rax
imul %r13
add  %rax,%r8
adc %rdx,%r11
movd   %xmm0,%rax
imul %r14
add  %rax,%r8
adc %rdx,%r11
mov  %r8,%rbx
shrd $51,%r11,%r8
sar  $51,%r11
imul  $19,%r11
mov  $19,%rax
mul  %r8
add  %r11,%rdx
mov  $0x7ffffffffffff,%r8
and  %r8,%r15
and  %r8,%rdi
and  %r8,%rsi
and  %r8,%rbp
and  %r8,%rbx
and  %rax,%r8
shrd $51,%rdx,%rax
add  %r8,%r15
add  %rax,%rdi
ret
.text
.p2align 5
_powtrick:
powtrick:
movd   %r15,%xmm0
movd   %rdi,%xmm1
movd   %rsi,%xmm2
movd   %rbp,%xmm3
movd   %rbx,%xmm4
call sqrBtoA
movd   %r10,%xmm5
movd   %rcx,%xmm6
movd   %r12,%xmm7
movd   %r13,%xmm8
movd   %r14,%xmm9
call sqrAtoB
call sqrBtoA
call mulACtoB
movd   %xmm5,%r10
movd   %xmm6,%rcx
movd   %xmm7,%r12
movd   %xmm8,%r13
movd   %xmm9,%r14
movd   %r15,%xmm0
movd   %rdi,%xmm1
movd   %rsi,%xmm2
movd   %rbp,%xmm3
movd   %rbx,%xmm4
call mulACtoB
movd   %r15,%xmm10
movd   %rdi,%xmm11
movd   %rsi,%xmm12
movd   %rbp,%xmm13
movd   %rbx,%xmm14
call sqrBtoA
call mulACtoB
movd   %r15,%xmm0
movd   %rdi,%xmm1
movd   %rsi,%xmm2
movd   %rbp,%xmm3
movd   %rbx,%xmm4
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call mulACtoB
movd   %r15,%xmm0
movd   %rdi,%xmm1
movd   %rsi,%xmm2
movd   %rbp,%xmm3
movd   %rbx,%xmm4
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
mov  %r15,%r10
mov  %rdi,%rcx
mov  %rsi,%r12
mov  %rbp,%r13
mov  %rbx,%r14
call mulACtoB
movdqa %xmm0,%xmm5
movdqa %xmm1,%xmm6
movdqa %xmm2,%xmm7
movdqa %xmm3,%xmm8
movdqa %xmm4,%xmm9
movd   %r15,%xmm0
movd   %rdi,%xmm1
movd   %rsi,%xmm2
movd   %rbp,%xmm3
movd   %rbx,%xmm4
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
mov  %r15,%r10
mov  %rdi,%rcx
mov  %rsi,%r12
mov  %rbp,%r13
mov  %rbx,%r14
call mulACtoB
movdqa %xmm5,%xmm0
movdqa %xmm6,%xmm1
movdqa %xmm7,%xmm2
movdqa %xmm8,%xmm3
movdqa %xmm9,%xmm4
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
mov  %r15,%r10
mov  %rdi,%rcx
mov  %rsi,%r12
mov  %rbp,%r13
mov  %rbx,%r14
call mulACtoB
movd   %r15,%xmm0
movd   %rdi,%xmm1
movd   %rsi,%xmm2
movd   %rbp,%xmm3
movd   %rbx,%xmm4
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
mov  %r15,%r10
mov  %rdi,%rcx
mov  %rsi,%r12
mov  %rbp,%r13
mov  %rbx,%r14
call mulACtoB
movdqa %xmm0,%xmm5
movdqa %xmm1,%xmm6
movdqa %xmm2,%xmm7
movdqa %xmm3,%xmm8
movdqa %xmm4,%xmm9
movd   %r15,%xmm0
movd   %rdi,%xmm1
movd   %rsi,%xmm2
movd   %rbp,%xmm3
movd   %rbx,%xmm4
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
mov  %r15,%r10
mov  %rdi,%rcx
mov  %rsi,%r12
mov  %rbp,%r13
mov  %rbx,%r14
call mulACtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
call sqrBtoA
call sqrAtoB
mov  %r15,%r10
mov  %rdi,%rcx
mov  %rsi,%r12
mov  %rbp,%r13
mov  %rbx,%r14
movdqa %xmm5,%xmm0
movdqa %xmm6,%xmm1
movdqa %xmm7,%xmm2
movdqa %xmm8,%xmm3
movdqa %xmm9,%xmm4
call mulACtoB
ret
